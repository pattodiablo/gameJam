
// -- user code here --

/* --- start generated code --- */

// Generated by  1.5.4 (Phaser v2.6.2)


/**
 * Intro.
 */
function Intro() {
	
	Phaser.State.call(this);
	
}

/** @type Phaser.State */
var Intro_proto = Object.create(Phaser.State.prototype);
Intro.prototype = Intro_proto;
Intro.prototype.constructor = Intro;

Intro.prototype.init = function () {
	
	this.myInit();
	
	this.scale.scaleMode = Phaser.ScaleManager.SHOW_ALL;
	this.scale.pageAlignHorizontally = true;
	this.scale.pageAlignVertically = true;
	
};

Intro.prototype.preload = function () {
	
	this.load.pack('loader', 'assets/loaderSprites.json');
	
	this.myPreload();
	
	this.load.pack('graphics', 'assets/pack.json');
	
};

Intro.prototype.create = function () {
	this.add.sprite(0.0, 0.0, 'title');
	
	
	
	
	this.myCreate();
	
};

/* --- end generated code --- */
// -- user code here --
Intro.prototype.myInit = function () {
	
};

Intro.prototype.myPreload = function () {
	


	this.game.load.audio('IntroMusic', ['assets/audio/introMusic.mp3','assets/audio/introMusic.ogg']);
	
};


Intro.prototype.update = function () {
	
	
	
};


Intro.prototype.myCreate = function () {
	

	IntroMusic = this.game.add.audio('IntroMusic');
	IntroMusic.allowMultiple = false;
	IntroMusic.addMarker('IntroMusic', 0, 28.74);
	
	this.game.input.onUp.addOnce(doMusic, this);
	
	function doMusic(){
		
		 IntroMusic.play('IntroMusic');
	
	//player.sounds.fxCoin.play("coin");
	
	 this.startButton = this.game.add.button(this.game.width/2, 955.0, 'playBtn', startGame, this, 2, 1, 0);
	 this.startButton.anchor.set(0.5);
	 pigArrives = this.game.add.tween( this.startButton);
	    
	    pigArrives.to({y:820}, 1000, Phaser.Easing.Bounce.Out);
	    pigArrives.onComplete.add(firstTween, this);
	    pigArrives.start();
	}   
	    function firstTween() {

	        s = this.game.add.tween(this.startButton.scale);
	        s.to({x: 1.05, y:1.05}, 500, Phaser.Easing.Linear.None);
	        s.onComplete.addOnce(theEnd, this);
	        s.start();

	    }
	    
	    function theEnd() {
	    	
	    	
	    	  s = this.game.add.tween(this.startButton.scale);
		        s.to({x: 1, y:1}, 500, Phaser.Easing.Linear.None);
		        s.onComplete.addOnce(firstTween, this);
		        s.start();

	    }
	    
	 function startGame(){
	 		 IntroMusic.stop('IntroMusic');
		 this.game.state.start('Instructions');
		 
	 }
	
};

