
// -- user code here --

/* --- start generated code --- */

// Generated by  1.5.4 (Phaser v2.6.2)


/**
 * Instructions.
 */
function Instructions() {
	
	Phaser.State.call(this);
	
}

/** @type Phaser.State */
var Instructions_proto = Object.create(Phaser.State.prototype);
Instructions.prototype = Instructions_proto;
Instructions.prototype.constructor = Instructions;

Instructions.prototype.init = function () {
	
	this.myInit();
	
	this.scale.scaleMode = Phaser.ScaleManager.SHOW_ALL;
	this.scale.pageAlignHorizontally = true;
	this.scale.pageAlignVertically = true;
	
};

Instructions.prototype.preload = function () {
	
	this.myPreload();
	

	
};

Instructions.prototype.create = function () {
	var _how = this.add.sprite(0.0, -3.0, 'how1');
	
	var _conteo = this.add.bitmapText(198.0, 378.0, 'PixelFont', 'READY', 90);
	
	
	
	// fields
	
	this.fHow = _how;
	this.fConteo = _conteo;
	
	
	this.myCreate();
	
};

/* --- end generated code --- */
// -- user code here --
Instructions.prototype.myInit = function () {
	
};

Instructions.prototype.myPreload = function () {

	
};


Instructions.prototype.update = function () {
	

	
};


Instructions.prototype.myCreate = function (instructions) {
	this.game.sound.mute = false;

	this.fHow.inputEnabled = true;
	this.factor = -540; 
	this.fConteo.visible = false;
	this.startButton = this.game.add.button(this.factor, this.game.height/2 + 100, 'playBtn', startGame, this, 2, 1, 0);
	this.startButton.anchor.set(0.5);
	
	this.fHow.events.onInputUp.add(function(pointer) {

	conteoAtras = this.game.time.create(false);
    conteoAtras.loop(1000, empezar, this);
   	conteoAtras.start();	 

	conteoAtras2 = this.game.time.create(false);
    conteoAtras2.loop(3000, go, this);
   	conteoAtras2.start();	 

		
		//console.log("clicking");
		move1 = this.game.add.tween(this.fHow);
		move1.onComplete.addOnce(factorChange, this);
		move1.to({x:-800}, 1080, Phaser.Easing.Bounce.Out);
		move1.start();
		
	

		
		function empezar(){
			conteoAtras.stop();
			this.fConteo.visible = true;

		}

		function go(){
			conteoAtras2.stop();
			 this.game.state.start('Level1');

		}
		    
		    
		
		function factorChange(){
			switch (this.factor){
			
			case -740:
				this.factor = 0;
				break;
			case 0:
				this.factor = -740;
				break;
				
			
			}
			
		}
		
	}, this);  
	
	
	function startGame(){
 		
		  this.game.state.start('Level1');
	 
	  } 


	    
	
	
};

